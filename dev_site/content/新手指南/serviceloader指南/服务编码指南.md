---
title: "服务编码指南"
date: 2018-03-13T11:57:59+08:00
author: 安佳玮
draft: true
---



## plugin 

* 每个服务都以 plugin 方式编译成 .so 文件， 使用以下命令来启动服务： 

```
# {service-name} 为服务路径， .so 后缀可要可不要
serviceloader {service-name}
```

* 服务接口

每个服务需要提供一个导出函数返回特定服务， 该函数原型必须是：

``` 

func GetService() service.Service {}

```

其中 service.Service 为 structs/service 包中的 Service 接口。
    
在 Start 方法的实现中， 每个服务可以根据自己的需要使用 Exposer 接口


## 日志

* 使用 logrus ( github.com/Sirupsen/logrus ) 包提供的原生接口来记录日志信息。
* serviceloader 在启动时， 会自动根据配置文件的内容来初始化 logrus 。具体支持的配置参考 [serviceloader配置](/serviceloader指南/serviceloader配置/) 页面

