---
title: "麻将FAQ"
date: 2018-03-15T11:05:09+08:00
draft: false
---
用于汇总麻将代码的一些疑问及解答，方便快速了解麻将代码

* Q: Edge接口中EdgeComponent成员俩个方法PrepareValid跟Prepare分别有什么作用？

	A: PrepareValid用于检验传过来Records参数的正确性；Prepare封装一些预先执行的操作，返回对应的Action


* Q: Action中的ActionBodyBytes是用来做什么的？

	A: 接受server层中传过来的protobuf的序列化对象


* Q: 为什么麻将层没有数据交互?

	A: 麻将层只用来进行逻辑运算，所有的数据交互交由其它层进行，目的是为了解耦


* Q: 吃，杠，胡，如何保证，玩家先提示胡，其他玩家等待?

	A: 胡先提示，其他吃，杠动作记录状态设置为FAIL，等胡弃掉后，弃会检查动作，假如吃，吃会先查比他优先级高的动作，如果有比他高的，他的状态不改变，继续等待弃


* Q: Records是每回合都重置吗？

	A: 跟据不同的情况，有每回重制，也有不重置


* Q: 摸牌Node是自己生成的，还是客户端发的？

	A: 一般是自己生产摸牌Node，也有特殊情况客户端发的
